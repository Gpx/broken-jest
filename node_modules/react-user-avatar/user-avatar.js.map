{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"user-avatar.js","sourcesContent":["const React = require('react');\nconst initials = require('initials');\nconst addPx = require('add-px');\nconst contrast = require('contrast');\n\n// from https://flatuicolors.com/\nconst defaultColors = [\n  '#2ecc71', // emerald\n  '#3498db', // peter river\n  '#8e44ad', // wisteria\n  '#e67e22', // carrot\n  '#e74c3c', // alizarin\n  '#1abc9c', // turquoise\n  '#2c3e50', // midnight blue\n];\n\nfunction sumChars(str) {\n  let sum = 0;\n  for(let i = 0; i < str.length; i++) {\n    sum += str.charCodeAt(i);\n  }\n\n  return sum;\n}\n\nclass UserAvatar extends React.Component {\n  render() {\n    let {\n      borderRadius='100%',\n      src,\n      srcset,\n      name,\n      color,\n      colors=defaultColors,\n      size,\n      style,\n      onClick,\n      className\n    } = this.props;\n\n    if (!name) throw new Error('UserAvatar requires a name');\n\n    const abbr = initials(name);\n    size = addPx(size);\n\n    const imageStyle = {\n      display: 'block',\n      borderRadius\n    };\n\n    const innerStyle = {\n      display: 'table-cell',\n      textAlign: 'center',\n      verticalAlign: 'middle',\n      borderRadius\n    };\n\n    if (size) {\n      imageStyle.width = innerStyle.width = innerStyle.maxWidth = size;\n      imageStyle.height = innerStyle.height = innerStyle.maxHeight = size;\n    }\n\n    let inner, classes = [className, 'UserAvatar'];\n    if (src || srcset) {\n      inner = <img className=\"UserAvatar--img\" style={imageStyle} src={src} srcset={srcset} alt={name} />\n    } else {\n      let background;\n      if (color) {\n        background = color;\n      } else {\n        // pick a deterministic color from the list\n        let i = sumChars(name) % colors.length;\n        background = colors[i];\n      }\n\n      innerStyle.backgroundColor = background;\n\n      inner = abbr;\n    }\n\n    if (innerStyle.backgroundColor) {\n      classes.push(`UserAvatar--${contrast(innerStyle.backgroundColor)}`);\n    }\n\n    return (\n      <div aria-label={name} className={classes.join(' ')} style={style}>\n        <div className=\"UserAvatar--inner\" style={innerStyle}>\n          {inner}\n        </div>\n      </div>\n    )\n  }\n}\n\nmodule.exports = UserAvatar;\n"]}